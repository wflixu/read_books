<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>7-5localstorage 作为简易数据库</title>
</head>
<body>
  <h1>使用localstorage作为简易数据库示例</h1>
    <table>
        <tr>
            <td>姓名：</td>
            <td><input type="text" id="name"/></td>
        </tr>
        <tr>
            <td>EMAIL：</td>
            <td><input type="text" id="email"/></td>
        </tr>
        <tr>
            <td>电话号码：</td>
            <td><input type="text" id="tel"/></td>
        </tr>
        <tr>
            <td>备注：</td>
            <td><input type="text" id="memo"/></td>
        </tr>
        <tr>
            <td></td>
            <td><input type="button" id="save"  value="保存"/></td>
        </tr>
    </table>
  <hr/>
  <p>检索：<input type="text" id="find"/><input type="button" value="检索" id="js"/>

  </p>
  <p id="msg">

  </p>
<script>
    function saveStorage(){
        var data = {};
        data.name= document.getElementById('name').value;
        data.email = document.getElementById('email').value;
        data.tel = document.getElementById('tel').value;
        data.memo = document.getElementById('memo').value;
        var str = JSON.stringify(data);
        localStorage.setItem(data.name, str);
        alert('数据已保存');
    }
    function findStorage (){
        var find = document.getElementById('find').value;
        var str =  localStorage.getItem(find);
        var data = JSON.parse(str);
        var result = "姓名："+data.name+'<br>';
        result+= 'email'+data.email+'<br>';
        result+= '电话号码：'+data.tel+'<br>';
        result+= '备注：'+data.memo+'<br>';
        var target = document.getElementById('msg');
        target.innerHTML = result;
    }
    window.onload =function(){
        var bc = document.getElementById('save');
        bc.addEventListener('click',saveStorage);
        var js =document.getElementById('js');
        js.addEventListener('click',findStorage);
    }
</script>
</body>
</html>