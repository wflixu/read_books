<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>5-23canvas</title>

</head>
<body >
<h1>canvas 元素示例</h1>
<canvas id="canvas" width="800" height="600">

</canvas>
<script >
  var ctx;
  var width,height;
  var i,setp;
    function draw(id){
        var canvas=document.getElementById(id);
        if(canvas==null){
            return false;
        }
         ctx = canvas.getContext('2d');
        width=canvas.width;
        height = canvas.height;
        i= 0;
        step=5;
        setInterval(rotate,100);
    }
    function rotate(){
        ctx.clearRect(0,0,width,height);
        ctx.fillStyle = "red";
        ctx.fillRect(i,0,20,20);
        if(i>400){
            step=-5;
        }
        if(i<0){step=5;}
        i=i+step;
    }
    window.onload=function (){
        draw("canvas");
    }
</script>
</body>
</html>