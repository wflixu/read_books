<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>9-1跨域通信示例</title>
    <script type="text/javascript">
        //监听message事件
        window.addEventListener('message',function(ev){
            //忽略url之外的消息
            if(ev.origin!="http://localhost:49559/bash/RBN/HTML5_AND_CSS3/9-1.html"){
                return;
            };
            //显示消息
            alert('从'+ev.origin+'那里传来的消息：\n\"'+ev.data+'\"');
        },false) ;
        function hello(){
            var iframe = window.frames[0];
            iframe.postMessage('您好','http://localhost:49559/bash/RBN/HTML5_AND_CSS3/9-2.html');
        }

    </script>
</head>
<body>
<h1>跨域通信示例</h1>
<iframe src="http://localhost:49559/bash/RBN/HTML5_AND_CSS3/9-2.html" frameborder="1" width="400" onload="hello()"></iframe>
<script>

</script>
</body>
</html>